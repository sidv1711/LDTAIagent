use client"

import type React from "react"

import { useState } from "react"
import { Upload, FileText, Download, MessageCircle, CheckCircle, AlertTriangle, XCircle, Send } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Progress } from "@/components/ui/progress"
import { Badge } from "@/components/ui/badge"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import { ScrollArea } from "@/components/ui/scroll-area"
import { Collapsible, CollapsibleContent, CollapsibleTrigger } from "@/components/ui/collapsible"
import { ChevronDown, ChevronRight } from "lucide-react"

interface ComplianceItem {
Β Β id: string
Β Β title: string
Β Β status: "present" | "missing" | "partial"
Β Β priority: "high" | "medium" | "low"
Β Β description: string
Β Β requirements: string[]
}

interface ChatMessage {
Β Β id: string
Β Β type: "user" | "assistant"
Β Β content: string
Β Β timestamp: Date
Β Β sources?: string[]
}

export default function LDTComplianceCopilot() {
Β Β const [uploadedFile, setUploadedFile] = useState<File | null>(null)
Β Β const [isAnalyzing, setIsAnalyzing] = useState(false)
Β Β const [analysisComplete, setAnalysisComplete] = useState(false)
Β Β const [chatMessages, setChatMessages] = useState<ChatMessage[]>([])
Β Β const [chatInput, setChatInput] = useState("")
Β Β const [expandedSections, setExpandedSections] = useState<string[]>([])

Β Β // Sample compliance data
Β Β const complianceScore = 67
Β Β const complianceItems: ComplianceItem[] = [
Β Β Β Β {
Β Β Β Β Β Β id: "1",
Β Β Β Β Β Β title: "Intended Use Statement",
Β Β Β Β Β Β status: "missing",
Β Β Β Β Β Β priority: "high",
Β Β Β Β Β Β description: "Clear statement of the intended use of the LDT",
Β Β Β Β Β Β requirements: [
Β Β Β Β Β Β Β Β "Define target population",
Β Β Β Β Β Β Β Β "Specify clinical condition or disease",
Β Β Β Β Β Β Β Β "Describe intended clinical decision-making",
Β Β Β Β Β Β ],
Β Β Β Β },
Β Β Β Β {
Β Β Β Β Β Β id: "2",
Β Β Β Β Β Β title: "Risk Assessment",
Β Β Β Β Β Β status: "missing",
Β Β Β Β Β Β priority: "high",
Β Β Β Β Β Β description: "Comprehensive risk analysis and mitigation strategies",
Β Β Β Β Β Β requirements: [
Β Β Β Β Β Β Β Β "Identify potential risks to patient safety",
Β Β Β Β Β Β Β Β "Document risk mitigation measures",
Β Β Β Β Β Β Β Β "Establish risk monitoring procedures",
Β Β Β Β Β Β ],
Β Β Β Β },
Β Β Β Β {
Β Β Β Β Β Β id: "3",
Β Β Β Β Β Β title: "Quality System Documentation",
Β Β Β Β Β Β status: "missing",
Β Β Β Β Β Β priority: "medium",
Β Β Β Β Β Β description: "Quality management system documentation",
Β Β Β Β Β Β requirements: ["Document control procedures", "Personnel qualifications", "Equipment maintenance records"],
Β Β Β Β },
Β Β Β Β {
Β Β Β Β Β Β id: "4",
Β Β Β Β Β Β title: "Analytical Validity",
Β Β Β Β Β Β status: "present",
Β Β Β Β Β Β priority: "low",
Β Β Β Β Β Β description: "Evidence of analytical performance characteristics",
Β Β Β Β Β Β requirements: ["Accuracy studies completed", "Precision data documented", "Reference range established"],
Β Β Β Β },
Β Β Β Β {
Β Β Β Β Β Β id: "5",
Β Β Β Β Β Β title: "Clinical Validity",
Β Β Β Β Β Β status: "present",
Β Β Β Β Β Β priority: "low",
Β Β Β Β Β Β description: "Evidence of clinical performance and utility",
Β Β Β Β Β Β requirements: [
Β Β Β Β Β Β Β Β "Clinical sensitivity documented",
Β Β Β Β Β Β Β Β "Clinical specificity established",
Β Β Β Β Β Β Β Β "Positive/negative predictive values calculated",
Β Β Β Β Β Β ],
Β Β Β Β },
Β Β ]

Β Β const sampleQuestions = [
Β Β Β Β "What are key LDT analytical validation requirements?",
Β Β Β Β "How do I demonstrate clinical validity?",
Β Β Β Β "What quality system documentation is needed?",
Β Β Β Β "What is the FDA and what do they regulate?",
Β Β Β Β "Who is Elizabeth Holmes and why is LDT compliance important?",
Β Β Β Β "What happened with Theranos and LDT oversight?",
Β Β Β Β "What are Laboratory Developed Tests (LDTs)?",
Β Β Β Β "What's the difference between FDA and CLIA regulations?",
Β Β ]

Β Β const handleFileUpload = (file: File) => {
Β Β Β Β setUploadedFile(file)
Β Β Β Β setAnalysisComplete(false)
Β Β }

Β Β const handleDragOver = (e: React.DragEvent) => {
Β Β Β Β e.preventDefault()
Β Β }

Β Β const handleDrop = (e: React.DragEvent) => {
Β Β Β Β e.preventDefault()
Β Β Β Β const files = e.dataTransfer.files
Β Β Β Β if (files.length > 0) {
Β Β Β Β Β Β handleFileUpload(files[0])
Β Β Β Β }
Β Β }

Β Β const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {
Β Β Β Β const files = e.target.files
Β Β Β Β if (files && files.length > 0) {
Β Β Β Β Β Β handleFileUpload(files[0])
Β Β Β Β }
Β Β }

Β Β const generateGapReport = async () => {
Β Β Β Β if (!uploadedFile) return

Β Β Β Β setIsAnalyzing(true)
Β Β Β Β // Simulate analysis
Β Β Β Β await new Promise((resolve) => setTimeout(resolve, 3000))
Β Β Β Β setIsAnalyzing(false)
Β Β Β Β setAnalysisComplete(true)
Β Β }

Β Β const handleChatSubmit = (question?: string) => {
Β Β Β Β const message = question || chatInput
Β Β Β Β if (!message.trim()) return

Β Β Β Β const userMessage: ChatMessage = {
Β Β Β Β Β Β id: Date.now().toString(),
Β Β Β Β Β Β type: "user",
Β Β Β Β Β Β content: message,
Β Β Β Β Β Β timestamp: new Date(),
Β Β Β Β }

Β Β Β Β // Generate contextual responses based on question type
Β Β Β Β let assistantContent = ""
Β Β Β Β let sources: string[] = []

Β Β Β Β const lowerMessage = message.toLowerCase()

Β Β Β Β if (lowerMessage.includes("elizabeth holmes") || lowerMessage.includes("theranos")) {
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "Elizabeth Holmes was the founder and CEO of Theranos, a company that claimed to revolutionize blood testing with proprietary technology. The company collapsed in 2018 amid fraud charges when it was revealed that their tests were unreliable and potentially dangerous. This scandal highlighted critical gaps in LDT oversight and accelerated FDA efforts to regulate laboratory-developed tests more strictly. Holmes was convicted of fraud in 2022, making her case a cautionary tale about the importance of rigorous validation and regulatory compliance in diagnostic testing."
Β Β Β Β Β Β sources = ["SEC vs. Theranos", "FDA Safety Communications", "DOJ Criminal Case"]
Β Β Β Β } else if (lowerMessage.includes("what is the fda") || lowerMessage.includes("fda regulate")) {
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "The FDA (Food and Drug Administration) is a federal agency within the U.S. Department of Health and Human Services responsible for protecting public health by regulating and supervising the safety of drugs, medical devices, food, and other consumer products. For laboratory testing, the FDA regulates in vitro diagnostic devices (IVDs) and is working to extend oversight to Laboratory Developed Tests (LDTs). The FDA ensures that diagnostic tests are safe, effective, and provide accurate results before they reach patients."
Β Β Β Β Β Β sources = ["FDA.gov", "Federal Food, Drug, and Cosmetic Act", "21 CFR Parts 809, 820"]
Β Β Β Β } else if (lowerMessage.includes("laboratory developed test") || lowerMessage.includes("what are ldts")) {
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "Laboratory Developed Tests (LDTs) are diagnostic tests that are developed, manufactured, and used within a single laboratory. Unlike commercial test kits, LDTs are typically created by hospital labs or reference laboratories to meet specific clinical needs. Historically, LDTs have been regulated primarily under CLIA (Clinical Laboratory Improvement Amendments), but the FDA is now proposing increased oversight due to their growing complexity and clinical impact. LDTs can range from simple tests to sophisticated molecular diagnostics and genetic tests."
Β Β Β Β Β Β sources = ["FDA LDT Guidance", "CLIA Regulations", "Clinical Laboratory News"]
Β Β Β Β } else if (lowerMessage.includes("theranos") && lowerMessage.includes("oversight")) {
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "The Theranos scandal exposed significant regulatory gaps in LDT oversight. Theranos operated under CLIA regulations but avoided FDA scrutiny by claiming their tests were LDTs. The company's fraudulent practicesβ€”including using traditional machines for most tests while claiming proprietary technologyβ€”went undetected for years. This case demonstrated the need for stronger FDA oversight of LDTs, especially those with high clinical impact. It led to increased regulatory scrutiny and proposed rules requiring LDTs to meet the same standards as other diagnostic devices."
Β Β Β Β Β Β sources = ["FDA LDT Final Rule", "Theranos SEC Filings", "Bad Blood by John Carreyrou"]
Β Β Β Β } else if (lowerMessage.includes("clia") && lowerMessage.includes("fda")) {
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "CLIA (Clinical Laboratory Improvement Amendments) and FDA serve different but complementary roles in laboratory regulation. CLIA, administered by CMS, focuses on laboratory quality standards, personnel qualifications, and proficiency testingβ€”essentially ensuring labs can perform tests competently. The FDA focuses on the safety and effectiveness of the tests themselvesβ€”ensuring the diagnostic devices work as intended. For LDTs, labs must comply with both CLIA requirements for laboratory operations AND emerging FDA requirements for test validation and performance."
Β Β Β Β Β Β sources = ["CLIA Final Rule", "FDA Device Regulations", "CMS Guidelines"]
Β Β Β Β } else if (lowerMessage.includes("analytical validation") || lowerMessage.includes("analytical validity")) {
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "Analytical validation requires demonstrating that your LDT can accurately and reliably measure what it claims to measure. Key requirements include: accuracy studies comparing your test to a reference method or known samples, precision studies showing reproducibility within and between runs, analytical sensitivity (limit of detection), analytical specificity (ability to detect only the target analyte), reportable range validation, and reference interval studies. You must provide documented evidence for each parameter with appropriate statistical analysis."
Β Β Β Β Β Β sources = ["21 CFR 820", "CLIA Final Rule", "FDA LDT Guidance"]
Β Β Β Β } else if (lowerMessage.includes("clinical validity") || lowerMessage.includes("clinical validation")) {
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "Clinical validity requires evidence that your test accurately identifies, measures, or predicts the clinical condition of interest. This includes clinical sensitivity (ability to correctly identify positive cases), clinical specificity (ability to correctly identify negative cases), positive and negative predictive values, and clinical utility studies showing the test improves patient outcomes. You need data from well-designed clinical studies with appropriate patient populations and statistical power."
Β Β Β Β Β Β sources = ["FDA Clinical Trial Guidance", "21 CFR 820", "Clinical Validation Studies"]
Β Β Β Β } else if (lowerMessage.includes("quality system") || lowerMessage.includes("quality management")) {
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "Quality system documentation must include comprehensive procedures for document control, personnel qualifications and training records, equipment maintenance and calibration, reagent and supply management, proficiency testing participation, quality control procedures, corrective and preventive action (CAPA) systems, and complaint handling. This creates a framework ensuring consistent, reliable test performance and continuous improvement."
Β Β Β Β Β Β sources = ["21 CFR 820", "CLIA Final Rule", "ISO 15189"]
Β Β Β Β } else {
Β Β Β Β Β Β // Default regulatory response for other questions
Β Β Β Β Β Β assistantContent =
Β Β Β Β Β Β Β Β "I can help you with questions about LDT compliance, FDA regulations, CLIA requirements, analytical and clinical validation, quality systems, and background information about regulatory oversight in laboratory testing. Please feel free to ask about specific compliance requirements or general educational topics related to laboratory diagnostics."
Β Β Β Β Β Β sources = ["FDA Guidance Documents", "CLIA Regulations"]
Β Β Β Β }

Β Β Β Β const assistantMessage: ChatMessage = {
Β Β Β Β Β Β id: (Date.now() + 1).toString(),
Β Β Β Β Β Β type: "assistant",
Β Β Β Β Β Β content: assistantContent,
Β Β Β Β Β Β timestamp: new Date(),
Β Β Β Β Β Β sources: sources,
Β Β Β Β }

Β Β Β Β setChatMessages((prev) => [...prev, userMessage, assistantMessage])
Β Β Β Β setChatInput("")
Β Β }

Β Β const toggleSection = (sectionId: string) => {
Β Β Β Β setExpandedSections((prev) =>
Β Β Β Β Β Β prev.includes(sectionId) ? prev.filter((id) => id !== sectionId) : [...prev, sectionId],
Β Β Β Β )
Β Β }

Β Β const getStatusIcon = (status: string) => {
Β Β Β Β switch (status) {
Β Β Β Β Β Β case "present":
Β Β Β Β Β Β Β Β return <CheckCircle className="h-5 w-5 text-green-600" />
Β Β Β Β Β Β case "missing":
Β Β Β Β Β Β Β Β return <XCircle className="h-5 w-5 text-red-600" />
Β Β Β Β Β Β case "partial":
Β Β Β Β Β Β Β Β return <AlertTriangle className="h-5 w-5 text-orange-600" />
Β Β Β Β Β Β default:
Β Β Β Β Β Β Β Β return null
Β Β Β Β }
Β Β }

Β Β const getPriorityColor = (priority: string) => {
Β Β Β Β switch (priority) {
Β Β Β Β Β Β case "high":
Β Β Β Β Β Β Β Β return "bg-red-100 text-red-800 border-red-200"
Β Β Β Β Β Β case "medium":
Β Β Β Β Β Β Β Β return "bg-orange-100 text-orange-800 border-orange-200"
Β Β Β Β Β Β case "low":
Β Β Β Β Β Β Β Β return "bg-green-100 text-green-800 border-green-200"
Β Β Β Β Β Β default:
Β Β Β Β Β Β Β Β return "bg-gray-100 text-gray-800 border-gray-200"
Β Β Β Β }
Β Β }

Β Β return (
Β Β Β Β <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
Β Β Β Β Β Β {/* Header */}
Β Β Β Β Β Β <div className="bg-blue-50 border-b border-blue-200">
Β Β Β Β Β Β Β Β <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2">
Β Β Β Β Β Β Β Β Β Β <div className="flex items-center justify-center gap-6 text-sm text-blue-700">
Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center gap-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="w-2 h-2 bg-green-500 rounded-full"></div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <span>FDA Guidance Updated</span>
Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center gap-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="w-2 h-2 bg-green-500 rounded-full"></div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <span>CLIA Compliant</span>
Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center gap-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="w-2 h-2 bg-green-500 rounded-full"></div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <span>SOC 2 Certified</span>
Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β </div>
Β Β Β Β Β Β <header className="bg-white shadow-sm border-b border-blue-100">
Β Β Β Β Β Β Β Β <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
Β Β Β Β Β Β Β Β Β Β <div className="text-center">
Β Β Β Β Β Β Β Β Β Β Β Β <h1 className="text-4xl font-bold text-blue-900 mb-2">π”¬ LDT Compliance Copilot</h1>
Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-lg text-blue-700 max-w-3xl mx-auto">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Upload your LDT draft submissionβ€”get instant FDA & CLIA compliance analysis in under 60 seconds
Β Β Β Β Β Β Β Β Β Β Β Β </p>
Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β </header>

Β Β Β Β Β Β <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
Β Β Β Β Β Β Β Β <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
Β Β Β Β Β Β Β Β Β Β {/* Left Column - File Upload */}
Β Β Β Β Β Β Β Β Β Β <div className="lg:col-span-1">
Β Β Β Β Β Β Β Β Β Β Β Β <Card className="h-fit">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardHeader>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardTitle className="flex items-center gap-2 text-blue-900">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Upload className="h-5 w-5" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Document Upload
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardTitle>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardHeader>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardContent className="space-y-4">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="border-2 border-dashed border-blue-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors cursor-pointer"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onDragOver={handleDragOver}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onDrop={handleDrop}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onClick={() => document.getElementById("file-input")?.click()}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Upload className="h-12 w-12 text-blue-400 mx-auto mb-4" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-lg font-medium text-blue-900 mb-2">Drop your LDT submission here</p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-sm text-blue-600 mb-4">or click to browse files</p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex flex-wrap justify-center gap-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {["PDF", "DOCX", "JSON", "XML", "TXT"].map((type) => (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Badge key={type} variant="secondary" className="text-xs">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {type}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Badge>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β ))}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <input
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β id="file-input"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β type="file"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="hidden"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β accept=".pdf,.docx,.json,.xml,.txt"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onChange={handleFileSelect}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>

Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {uploadedFile && (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="bg-blue-50 rounded-lg p-4">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center gap-3">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <FileText className="h-8 w-8 text-blue-600" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex-1">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="font-medium text-blue-900">{uploadedFile.name}</p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-sm text-blue-600">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {(uploadedFile.size / 1024 / 1024).toFixed(2)} MB β€Ά {uploadedFile.type || "Unknown type"}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β )}

Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Button
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onClick={generateGapReport}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β disabled={!uploadedFile || isAnalyzing}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="w-full bg-blue-600 hover:bg-blue-700 text-white"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β size="lg"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {isAnalyzing ? (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Analyzing...
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β ) : (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <>π” Generate Gap Report</>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β )}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Button>

Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {isAnalyzing && (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="space-y-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Progress value={66} className="w-full" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-xs text-blue-600 text-center">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Analyzing against FDA & CLIA regulatory requirements...
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β )}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardContent>
Β Β Β Β Β Β Β Β Β Β Β Β </Card>

Β Β Β Β Β Β Β Β Β Β Β Β {/* Sidebar Info */}
Β Β Β Β Β Β Β Β Β Β Β Β <Card className="mt-6">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardHeader>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardTitle className="text-sm text-blue-900">Knowledge Base Status</CardTitle>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardHeader>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardContent className="space-y-3">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center justify-between">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <span className="text-sm text-blue-700">FDA LDT Guidance</span>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Badge className="bg-green-100 text-green-800">Updated</Badge>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center justify-between">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <span className="text-sm text-blue-700">CLIA Regulations</span>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Badge className="bg-green-100 text-green-800">Current</Badge>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center justify-between">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <span className="text-sm text-blue-700">ISO 15189</span>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Badge className="bg-green-100 text-green-800">Active</Badge>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardContent>
Β Β Β Β Β Β Β Β Β Β Β Β </Card>
Β Β Β Β Β Β Β Β Β Β </div>

Β Β Β Β Β Β Β Β Β Β {/* Right Column - Results */}
Β Β Β Β Β Β Β Β Β Β <div className="lg:col-span-2 space-y-6">
Β Β Β Β Β Β Β Β Β Β Β Β {!analysisComplete && !isAnalyzing && (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Card className="border-dashed border-2 border-gray-300">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardContent className="flex flex-col items-center justify-center py-12 text-center">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <FileText className="h-8 w-8 text-blue-600" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <h3 className="text-lg font-medium text-gray-900 mb-2">Upload a document to get started</h3>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-gray-600 max-w-sm">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Upload your LDT submission document to receive instant compliance analysis and gap identification.
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardContent>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Card>
Β Β Β Β Β Β Β Β Β Β Β Β )}
Β Β Β Β Β Β Β Β Β Β Β Β {analysisComplete && (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {/* Compliance Score */}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Card>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardHeader>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardTitle className="text-blue-900">Compliance Analysis</CardTitle>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardHeader>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardContent>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center justify-between mb-6">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center gap-4">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="relative w-24 h-24">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <svg className="w-24 h-24 transform -rotate-90" viewBox="0 0 100 100">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <circle cx="50" cy="50" r="40" stroke="#e5e7eb" strokeWidth="8" fill="none" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <circle
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β cx="50"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β cy="50"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β r="40"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β stroke="#10b981"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β strokeWidth="8"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β fill="none"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β strokeDasharray={`${complianceScore * 2.51} 251`}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β strokeLinecap="round"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </svg>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="absolute inset-0 flex items-center justify-center">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <span className="text-2xl font-bold text-blue-900">{complianceScore}%</span>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <h3 className="text-xl font-semibold text-blue-900">Compliance Score</h3>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-blue-600">Moderate compliance level</p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex gap-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Button variant="outline" size="sm">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Download className="h-4 w-4 mr-2" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β PDF Report
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Button>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Button variant="outline" size="sm">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Download className="h-4 w-4 mr-2" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Markdown
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Button>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>

Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {/* Compliance Items */}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="space-y-3">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {complianceItems.map((item) => (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Collapsible key={item.id}>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="border rounded-lg p-4">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CollapsibleTrigger
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="flex items-center justify-between w-full text-left"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onClick={() => toggleSection(item.id)}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center gap-3">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {getStatusIcon(item.status)}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <h4 className="font-medium text-blue-900">{item.title}</h4>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-sm text-blue-600">{item.description}</p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex items-center gap-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Badge className={getPriorityColor(item.priority)}>{item.priority.toUpperCase()}</Badge>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {expandedSections.includes(item.id) ? (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <ChevronDown className="h-4 w-4" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β ) : (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <ChevronRight className="h-4 w-4" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β )}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CollapsibleTrigger>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CollapsibleContent className="mt-3 pt-3 border-t">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="space-y-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <h5 className="font-medium text-blue-900">Requirements:</h5>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <ul className="space-y-1">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {item.requirements.map((req, index) => (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li key={index} className="flex items-start gap-2 text-sm text-blue-700">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="w-1.5 h-1.5 bg-blue-400 rounded-full mt-2 flex-shrink-0" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {req}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β ))}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </ul>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CollapsibleContent>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Collapsible>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β ))}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardContent>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Card>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </>
Β Β Β Β Β Β Β Β Β Β Β Β )}

Β Β Β Β Β Β Β Β Β Β Β Β {/* Q&A Chat Section */}
Β Β Β Β Β Β Β Β Β Β Β Β <Card>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardHeader>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardTitle className="flex items-center gap-2 text-blue-900">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <MessageCircle className="h-5 w-5" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Regulatory Q&A Assistant
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardTitle>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardHeader>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <CardContent className="space-y-4">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {/* Sample Questions */}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="space-y-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-sm font-medium text-blue-900">Quick Questions:</p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex flex-wrap gap-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {sampleQuestions.map((question, index) => (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Button
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β key={index}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β variant="outline"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β size="sm"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="text-xs h-8 text-blue-700 border-blue-200 hover:bg-blue-50 bg-transparent"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onClick={() => handleChatSubmit(question)}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {question}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Button>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β ))}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>

Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Separator />

Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {/* Chat Messages */}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <ScrollArea className="h-64 w-full">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="space-y-4">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {chatMessages.map((message) => (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β key={message.id}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className={`flex ${message.type === "user" ? "justify-end" : "justify-start"}`}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className={`max-w-[80%] rounded-lg p-3 ${
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β message.type === "user" ? "bg-blue-600 text-white" : "bg-gray-100 text-gray-900"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β }`}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-sm">{message.content}</p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {message.sources && (
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="mt-2 pt-2 border-t border-gray-200">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <p className="text-xs text-gray-600">Sources: {message.sources.join(", ")}</p>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β )}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β ))}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </ScrollArea>

Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β {/* Chat Input */}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <div className="flex gap-2">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Input
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β placeholder="Ask about FDA or CLIA requirements..."
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β value={chatInput}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onChange={(e) => setChatInput(e.target.value)}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onKeyPress={(e) => e.key === "Enter" && handleChatSubmit()}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="flex-1"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Button
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β onClick={() => handleChatSubmit()}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β disabled={!chatInput.trim()}
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β size="sm"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="bg-blue-600 hover:bg-blue-700"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <Send className="h-4 w-4" />
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </Button>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </CardContent>
Β Β Β Β Β Β Β Β Β Β Β Β </Card>
Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β </div>
Β Β Β Β Β Β <footer className="bg-white border-t border-gray-200 mt-16">
Β Β Β Β Β Β Β Β <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
Β Β Β Β Β Β Β Β Β Β <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
Β Β Β Β Β Β Β Β Β Β Β Β <div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <h3 className="text-sm font-semibold text-gray-900 mb-4">Product</h3>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <ul className="space-y-2 text-sm text-gray-600">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#compliance" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Compliance Analysis
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#reports" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Gap Reports
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#qa" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Regulatory Q&A
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </ul>
Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β <div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <h3 className="text-sm font-semibold text-gray-900 mb-4">Resources</h3>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <ul className="space-y-2 text-sm text-gray-600">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β href="https://www.fda.gov/medical-devices/in-vitro-diagnostics/laboratory-developed-tests"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β target="_blank"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β rel="noopener noreferrer"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="hover:text-blue-600 transition-colors"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β FDA Guidance
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β href="https://www.cms.gov/regulations-and-guidance/legislation/clia"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β target="_blank"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β rel="noopener noreferrer"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β className="hover:text-blue-600 transition-colors"
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β >
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β CLIA Requirements
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#docs" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Documentation
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </ul>
Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β <div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <h3 className="text-sm font-semibold text-gray-900 mb-4">Support</h3>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <ul className="space-y-2 text-sm text-gray-600">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#help" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Help Center
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="mailto:support@ldtcompliance.com" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Contact Us
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#status" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β API Status
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </ul>
Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β Β Β <div>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <h3 className="text-sm font-semibold text-gray-900 mb-4">Legal</h3>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β <ul className="space-y-2 text-sm text-gray-600">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#privacy" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Privacy Policy
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#terms" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Terms of Service
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β <a href="#security" className="hover:text-blue-600 transition-colors">
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Security
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </a>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β Β </li>
Β Β Β Β Β Β Β Β Β Β Β Β Β Β </ul>
Β Β Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β Β Β <div className="border-t border-gray-200 mt-8 pt-8 text-center text-sm text-gray-600">
Β Β Β Β Β Β Β Β Β Β Β Β <p>Β© 2024 LDT Compliance Copilot. Built for regulatory professionals.</p>
Β Β Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β Β Β </div>
Β Β Β Β Β Β </footer>
Β Β Β Β </div>
Β Β )